<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Divergify Sidekick — Beat your baseline</title>
  <meta name="theme-color" content="#12c2e9"/>
  <link rel="manifest" href="/manifest.json">
  <link rel="stylesheet" href="/css/styles.css" />
</head>
<body>
  <canvas id="bg-swirl" aria-hidden="true"></canvas>

  <header class="topbar">
    <img src="/assets/transparentlogo.png" alt="Divergify logo" class="logo" onerror="this.style.display='none'"/>
    <h1>For brains that zig when the world zags.</h1>
    <p class="subhead">Managing mental traffic jams, dodging shiny objects, and rerouting creative genius.</p>
  </header>

  <main>
    <section class="controls">
      <button id="focusBtn" class="primary">Focus Bubble</button>
      <label class="toggler">
        <input type="checkbox" id="tinfoil" />
        <span>Tin Foil Hat Mode</span>
      </label>
      <a id="tipjar" class="ghost" href="https://buymeacoffee.com/divergify" target="_blank" rel="noopener">Tip Jar</a>
      <a id="merch" class="ghost" href="#" target="_blank" rel="noopener">Merch</a>
    </section>

    <section class="card">
      <h2>Task Blitz</h2>
      <form id="taskForm" autocomplete="off">
        <input id="taskInput" type="text" placeholder="What’s the one thing right now?" required />
        <button class="primary" type="submit">Add</button>
      </form>
      <ul id="taskList" class="tasks"></ul>
      <div id="emptyState" class="empty">Add a task. Small win, big dopamine.</div>
    </section>

    <section class="card small">
      <h3>Dopamine Meter</h3>
      <div id="streakWrap">
        <div id="streakBar"></div>
      </div>
      <p id="streakText">0 wins today</p>
    </section>

    <section class="card small">
      <h3>Nudges</h3>
      <p id="nudge">I’m your seatbelt for the brain. Let’s roll.</p>
    </section>
  </main>

  <footer>
    <small>© <span id="year"></span> Divergify. “Tin Foil Hat Mode” keeps your data local. No trackers. No cloud. Just vibes.</small>
  </footer>

  <canvas id="confetti" aria-hidden="true"></canvas>

  <script src="/js/confetti.js"></script>
  <script src="/js/app.js"></script>
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/service-worker.js').catch(()=>{});
      });
    }
  </script>
</body>
</html>
