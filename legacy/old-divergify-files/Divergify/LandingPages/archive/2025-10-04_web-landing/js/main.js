(()=>{function e(e){const n=document.querySelector(`meta[name="${e}"]`);return n?n.content.trim():""}const n=(window.DONATION_URL||e("donation-url")||"").trim(),t=document.getElementById("tipjar");n&&(t.classList.remove("hidden"),t.setAttribute("href",n));const o=(window.SUPABASE_URL||e("supabase-url")||"").trim(),a=(window.SUPABASE_ANON_KEY||e("supabase-anon-key")||"").trim(),r=document.getElementById("waitlist-form"),i=document.getElementById("email"),s=document.getElementById("error");r&&r.addEventListener("submit",(async e=>{s.textContent="";const n=i.value.trim();/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)?o&&a&&await async function(e){try{await fetch(`${o}/rest/v1/subscribers`,{method:"POST",headers:{apikey:a,Authorization:`Bearer ${a}`,"Content-Type":"application/json",Prefer:"resolution=merge-duplicates"},body:JSON.stringify({email:e,source:"landing"}),mode:"cors",credentials:"omit"})}catch(e){}}(n):(e.preventDefault(),s.textContent="Please enter a valid email.",i.focus())}),!1)})();