
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#8B5CF6">
    <meta name="description" content="ADHD productivity app with personality">
    <title>Divergify</title>
    <link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogIkRpdmVyZ2lmeSIsCiAgInNob3J0X25hbWUiOiAiRGl2ZXJnaWZ5IiwKICAic3RhcnRfdXJsIjogIi8iLAogICJkaXNwbGF5IjogInN0YW5kYWxvbmUiLAogICJiYWNrZ3JvdW5kX2NvbG9yIjogIiMxRjJBMzciLAogICJ0aGVtZV9jb2xvciI6ICIjOEI1Q0Y2IiwKICAiaWNvbnMiOiBbCiAgICB7CiAgICAgICJzcmMiOiAiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAxMDAgMTAwJyUzRSUzQ3JlY3Qgd2lkdGg9JzEwMCcgaGVpZ2h0PScxMDAnIGZpbGw9JyU4QjVDRjYnLyUzRSUzQ3RleHQgeD0nNTAnIHk9JzUwJyBmb250LXNpemU9JzUwJyB0ZXh0LWFuY2hvcj0nbWlkZGxlJyBkb21pbmFudC1iYXNlbGluZT0nY2VudHJhbCcgZmlsbD0nd2hpdGUnJTNFRCUzQy90ZXh0JTNFJTNDL3N2ZyUzRSIsCiAgICAgICJzaXplcyI6ICIxOTJ4MTkyIiwKICAgICAgInR5cGUiOiAiaW1hZ2Uvc3ZnK3htbCIKICAgIH0sCiAgICB7CiAgICAgICJzcmMiOiAiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAxMDAgMTAwJyUzRSUzQ3JlY3Qgd2lkdGg9JzEwMCcgaGVpZ2h0PScxMDAnIGZpbGw9JyU4QjVDRjYnLyUzRSUzQ3RleHQgeD0nNTAnIHk9JzUwJyBmb250LXNpemU9JzUwJyB0ZXh0LWFuY2hvcj0nbWlkZGxlJyBkb21pbmFudC1iYXNlbGluZT0nY2VudHJhbCcgZmlsbD0nd2hpdGUnJTNFRCUzQy90ZXh0JTNFJTNDL3N2ZyUzRSIsCiAgICAgICJzaXplcyI6ICI1MTJ4NTEyIiwKICAgICAgInR5cGUiOiAiaW1hZ2Uvc3ZnK3htbCIKICAgIH0KICBdCn0=">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * { -webkit-tap-highlight-color: transparent; }
        body { overscroll-behavior: none; }
        .task-enter { animation: slideIn 0.3s ease-out; }
        @keyframes slideIn {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        .reward-popup { animation: popup 0.5s ease-out; }
        @keyframes popup {
            0% { transform: scale(0); opacity: 0; }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); opacity: 1; }
        }
    </style>
</head>
<body class="bg-slate-900 text-white min-h-screen">
    <!-- Onboarding Screen -->
    <div id="onboarding" class="fixed inset-0 bg-slate-900 z-50 flex flex-col items-center justify-center p-6">
        <div class="text-center mb-8">
            <h1 class="text-5xl font-bold text-purple-400 mb-4">Divergify</h1>
            <p class="text-slate-300 text-lg">Pick your brain voice</p>
        </div>
        
        <div class="space-y-4 w-full max-w-md">
            <button onclick="selectVoice('takoda')" class="voice-btn w-full bg-purple-600 hover:bg-purple-700 p-6 rounded-xl text-left transition">
                <div class="text-2xl font-bold mb-2">ðŸ”¥ Takoda</div>
                <div class="text-sm text-purple-200">Blunt, funny, no-BS accountability</div>
            </button>
            
            <button onclick="selectVoice('coach')" class="voice-btn w-full bg-emerald-600 hover:bg-emerald-700 p-6 rounded-xl text-left transition">
                <div class="text-2xl font-bold mb-2">ðŸ’ª Coach</div>
                <div class="text-sm text-emerald-200">Motivational, "one more rep" energy</div>
            </button>
            
            <button onclick="selectVoice('strategist')" class="voice-btn w-full bg-blue-600 hover:bg-blue-700 p-6 rounded-xl text-left transition">
                <div class="text-2xl font-bold mb-2">ðŸŽ¯ Strategist</div>
                <div class="text-sm text-blue-200">Logical, plan-first approach</div>
            </button>
            
            <button onclick="selectVoice('soothe')" class="voice-btn w-full bg-pink-600 hover:bg-pink-700 p-6 rounded-xl text-left transition">
                <div class="text-2xl font-bold mb-2">ðŸŒ¸ Soothe</div>
                <div class="text-sm text-pink-200">Calm, gentle, understanding</div>
            </button>
            
            <button onclick="selectVoice('gremlin')" class="voice-btn w-full bg-orange-600 hover:bg-orange-700 p-6 rounded-xl text-left transition">
                <div class="text-2xl font-bold mb-2">ðŸ˜ˆ Gremlin</div>
                <div class="text-sm text-orange-200">Chaotic, sarcastic chaos agent</div>
            </button>
        </div>
    </div>

    <!-- Main App -->
    <div id="app" class="hidden">
        <!-- Header -->
        <div class="bg-slate-800 p-4 flex items-center justify-between sticky top-0 z-10 shadow-lg">
            <div>
                <h1 class="text-2xl font-bold text-purple-400">Divergify</h1>
                <p id="voiceName" class="text-sm text-slate-400"></p>
            </div>
            <button onclick="changeVoice()" class="bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-lg text-sm transition">
                Switch Voice
            </button>
        </div>

        <!-- Stats Bar -->
        <div class="bg-slate-800 border-t border-slate-700 p-4 grid grid-cols-3 gap-4 text-center">
            <div>
                <div class="text-2xl font-bold text-purple-400" id="totalTasks">0</div>
                <div class="text-xs text-slate-400">Total Tasks</div>
            </div>
            <div>
                <div class="text-2xl font-bold text-emerald-400" id="completedTasks">0</div>
                <div class="text-xs text-slate-400">Completed</div>
            </div>
            <div>
                <div class="text-2xl font-bold text-orange-400" id="streakCount">0</div>
                <div class="text-xs text-slate-400">Streak</div>
            </div>
        </div>

        <!-- Task Input -->
        <div class="p-4 bg-slate-800 border-t border-slate-700">
            <div class="flex gap-2">
                <input 
                    type="text" 
                    id="taskInput" 
                    placeholder="What needs doing?"
                    class="flex-1 bg-slate-700 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
                    onkeypress="if(event.key==='Enter') addTask()"
                >
                <button onclick="addTask()" class="bg-purple-600 hover:bg-purple-700 px-6 py-3 rounded-lg font-bold transition">
                    +
                </button>
            </div>
        </div>

        <!-- Task List -->
        <div id="taskList" class="p-4 space-y-3 pb-24">
            <div class="text-center text-slate-500 py-12" id="emptyState">
                <div class="text-4xl mb-4">ðŸ§ </div>
                <p>Add a task to get started</p>
            </div>
        </div>

        <!-- Reward Popup -->
        <div id="rewardPopup" class="hidden fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-6">
            <div class="bg-slate-800 rounded-2xl p-8 max-w-sm text-center reward-popup">
                <div class="text-6xl mb-4">ðŸŽ‰</div>
                <div id="rewardText" class="text-2xl font-bold mb-4"></div>
                <button onclick="closeReward()" class="bg-purple-600 hover:bg-purple-700 px-8 py-3 rounded-lg font-bold transition">
                    Hell Yeah
                </button>
            </div>
        </div>
    </div>

    <script>
        // Voice Responses
        const voices = {
            takoda: {
                name: "ðŸ”¥ Takoda",
                rewards: [
                    "BOOM. One down. Keep that energy.",
                    "Look at you being productive. Shocking.",
                    "That's what I'm talking about. Next one.",
                    "You actually did it. Proud of you, not gonna lie.",
                    "Dopamine unlocked. Now ride that wave."
                ],
                empty: "Stop staring at an empty list. Add something."
            },
            coach: {
                name: "ðŸ’ª Coach",
                rewards: [
                    "THAT'S THE REP! One more!",
                    "You're crushing it! Keep pushing!",
                    "YES! That's how champions do it!",
                    "Strong work! You've got this!",
                    "Momentum building! Don't stop now!"
                ],
                empty: "Ready to crush today? Add your first goal."
            },
            strategist: {
                name: "ðŸŽ¯ Strategist",
                rewards: [
                    "Objective complete. Moving to next phase.",
                    "Efficiency achieved. Well executed.",
                    "Task completed per specifications. Proceed.",
                    "Progress logged. Continue systematic approach.",
                    "Milestone reached. Maintain momentum."
                ],
                empty: "Begin by defining your objectives."
            },
            soothe: {
                name: "ðŸŒ¸ Soothe",
                rewards: [
                    "Beautiful work, friend. Take a breath.",
                    "You're doing so well. Proud of you.",
                    "Look how far you've come. Rest if needed.",
                    "Wonderful job. You're enough, always.",
                    "That took courage. You're amazing."
                ],
                empty: "Whenever you're ready, no pressure. ðŸ’•"
            },
            gremlin: {
                name: "ðŸ˜ˆ Gremlin",
                rewards: [
                    "HAHA YES! CHAOS PRODUCTIVE!",
                    "You absolute LEGEND. Do another!",
                    "AHAHAHA TASK DESTROYER MODE ACTIVATED",
                    "MORE! FEED THE COMPLETION BEAST!",
                    "YESSS THE DOPAMINE FLOWS THROUGH YOU"
                ],
                empty: "Add tasks. FEED ME YOUR TO-DOS. ðŸ˜ˆ"
            }
        };

        let currentVoice = 'takoda';
        let tasks = [];
        let stats = { total: 0, completed: 0, streak: 0 };

        // Load saved data
        function loadData() {
            const saved = localStorage.getItem('divergifyData');
            if (saved) {
                const data = JSON.parse(saved);
                currentVoice = data.voice || 'takoda';
                tasks = data.tasks || [];
                stats = data.stats || { total: 0, completed: 0, streak: 0 };
            }
        }

        // Save data
        function saveData() {
            localStorage.setItem('divergifyData', JSON.stringify({
                voice: currentVoice,
                tasks: tasks,
                stats: stats
            }));
        }

        // Select voice on onboarding
        function selectVoice(voice) {
            currentVoice = voice;
            document.getElementById('onboarding').classList.add('hidden');
            document.getElementById('app').classList.remove('hidden');
            updateVoiceDisplay();
            renderTasks();
            saveData();
        }

        // Change voice
        function changeVoice() {
            document.getElementById('app').classList.add('hidden');
            document.getElementById('onboarding').classList.remove('hidden');
        }

        // Update voice display
        function updateVoiceDisplay() {
            document.getElementById('voiceName').textContent = voices[currentVoice].name;
            document.getElementById('totalTasks').textContent = stats.total;
            document.getElementById('completedTasks').textContent = stats.completed;
            document.getElementById('streakCount').textContent = stats.streak;
        }

        // Add task
        function addTask() {
            const input = document.getElementById('taskInput');
            const text = input.value.trim();
            if (!text) return;

            tasks.push({
                id: Date.now(),
                text: text,
                done: false,
                created: new Date().toISOString()
            });

            stats.total++;
            input.value = '';
            renderTasks();
            updateVoiceDisplay();
            saveData();
        }

        // Toggle task
        function toggleTask(id) {
            const task = tasks.find(t => t.id === id);
            if (!task) return;

            task.done = !task.done;
            
            if (task.done) {
                stats.completed++;
                stats.streak++;
                showReward();
            } else {
                stats.completed--;
                stats.streak = Math.max(0, stats.streak - 1);
            }

            renderTasks();
            updateVoiceDisplay();
            saveData();
        }

        // Delete task
        function deleteTask(id) {
            const task = tasks.find(t => t.id === id);
            if (task && task.done) {
                stats.completed--;
            }
            stats.total--;
            tasks = tasks.filter(t => t.id !== id);
            renderTasks();
            updateVoiceDisplay();
            saveData();
        }

        // Show reward
        function showReward() {
            const rewards = voices[currentVoice].rewards;
            const reward = rewards[Math.floor(Math.random() * rewards.length)];
            document.getElementById('rewardText').textContent = reward;
            document.getElementById('rewardPopup').classList.remove('hidden');
        }

        // Close reward
        function closeReward() {
            document.getElementById('rewardPopup').classList.add('hidden');
        }

        // Render tasks
        function renderTasks() {
            const container = document.getElementById('taskList');
            const emptyState = document.getElementById('emptyState');
            
            if (tasks.length === 0) {
                emptyState.classList.remove('hidden');
                emptyState.querySelector('p').textContent = voices[currentVoice].empty;
                return;
            }

            emptyState.classList.add('hidden');
            
            container.innerHTML = tasks.map(task => `
                <div class="bg-slate-800 rounded-lg p-4 flex items-center gap-3 task-enter ${task.done ? 'opacity-50' : ''}">
                    <button 
                        onclick="toggleTask(${task.id})"
                        class="w-8 h-8 rounded-full border-2 flex items-center justify-center flex-shrink-0 transition
                            ${task.done ? 'bg-purple-600 border-purple-600' : 'border-slate-600 hover:border-purple-500'}"
                    >
                        ${task.done ? 'âœ“' : ''}
                    </button>
                    <div class="flex-1 ${task.done ? 'line-through text-slate-500' : ''}">
                        ${task.text}
                    </div>
                    <button 
                        onclick="deleteTask(${task.id})"
                        class="text-red-400 hover:text-red-300 px-3 py-1 transition"
                    >
                        âœ•
                    </button>
                </div>
            `).join('');
        }

        // Initialize
        loadData();
        if (currentVoice && tasks.length >= 0) {
            document.getElementById('onboarding').classList.add('hidden');
            document.getElementById('app').classList.remove('hidden');
            updateVoiceDisplay();
            renderTasks();
        }

        // Register service worker for PWA
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('data:text/javascript;base64,c2VsZi5hZGRFdmVudExpc3RlbmVyKCdpbnN0YWxsJywgZnVuY3Rpb24oZXZlbnQpIHsKICBzZWxmLnNraXBXYWl0aW5nKCk7Cn0pOwoKc2VsZi5hZGRFdmVudExpc3RlbmVyKCdmZXRjaCcsIGZ1bmN0aW9uKGV2ZW50KSB7CiAgZXZlbnQucmVzcG9uZFdpdGgoZmV0Y2goZXZlbnQucmVxdWVzdCkpOwp9KTs=');
        }
    </script>
</body>
</html>

